1.开发注册功能
    1.1 访问注册页面
        点击顶部区域链接，打开注册页面
    1.2 提交注册数据
        通过表单提交数据
        服务端验证账号是否存在，邮箱是否已经注册
        服务端发送激活邮件
    1.3激活账号
        点击邮件中的链接，访问服务端的激活服务
        
2.生成验证码
    Kaptcha
        导入jar包
        编写kaptcha配置类
        生成随机字符，生成图片
        
3.开发登录功能，退出功能
    访问登录页面
        点击顶部区域的链接，打开登录页面
    登录
        验证账号密码验证码
        成功时，生成登录凭证，发放给客户端
        失败时，跳转回登录页
   退出
        将登陆凭证修改为失效状态
        跳转至网站首页
        
4.显示登录信息
    拦截器示例
        定义拦截器，实现HandlerInterceptor
        配置拦截器WebMvcConfig, 它需要实现WebMvcConfigurer，为它指定拦截，排除的路径
    拦截器应用
        在请求开始时查询登录用户
        在本次请求中持有用户数据
        在模板视图上显示用户数据
        在请求结束时清理用户数据
        
5.账号设置
    上传文件
        请求：必须是post请求
        表单：enctype="multipartFile处理上传文件
        SpringMvc： 通过MultipartFile处理上传文件
    开发步骤
        访问账号设置页面
        上传头像
        获取头像
        
6.检查登录状态
    使用拦截器
        在方法前面标注自定义注解
        拦截所有请求，只处理带有该注解的方法
    自定义注解
        常用的元注解
        @Target|  作用在哪：方法。类。属性上
        @Retention|   声明自定义注解保存有效的时间点，编译时还是运行时
        @Document|    声明文档的时候要不要带上这个注解
        @Inherited      用于继承；子类继承父类的注解
        如何读取注解
        Method.getDeclaredAnnotations()     
        Method.getAnnotation(Class<T> annotationClass)
        
7.过滤敏感词
    前缀树
        名称：Trie  字典树  查找树
        特点：查找效率高，消耗内存大
        应用：字符串检索，词频统计，字符串排序等
    敏感词过滤器
        定义前缀树
        根据敏感词，初始化前缀树
        编写过滤敏感词的方法
        
8.发布贴子
    AJAX请求，添加数据
    
9.贴子详情
    DiscussPostMapper
    DiscussPostService
    DiscussPostController
    index.html
        在贴子标题上增加访问详情页面的链接
    discuss-detail.html
        处理静态资源的访问路径
        复用index.html的header区域
        显示标题，作者，发布时间、贴子正文等内容
   
10.事务管理
    什么是事务
        事  务是由N步数据库操作序列组成的逻辑执行单元，这系列操作要么全执行，要么全放弃执行
    事务的特性
        原子性
        一致性
        隔离性
        持久性   
    事务的隔离性
        常见的并发异常
            第一类丢失更新（某一个事务的回滚，导致另外一个事务已更新的数据丢失），
            第二类丢失更新（某一个事务的提交，导致另外一个事务已更新的数据丢失）
            脏读，
            不可重复读，
            幻读
        常见的隔离级别
            读取未提交
            读取已提交
            可重复读
            串行化  
    实现机制
        悲观锁（数据库）
            共享锁（S锁）
                事务A对某数据加了共享锁之后，其他事务只能对该数据加共享锁，但不能加排他锁
            排它锁（X锁）
                事务A对某数据加了排他锁之后，其他事务对该数据既不能加共享锁，也不能加排他锁
        乐观锁（自定义） 
            版本号，时间戳等
            在更新数据前，检查版本号是否发生变化，若变化取消本次更新，否则就更新数据（版本号+1）
    Spring事务管理
        声明式事务
            通过xml配置，声明某方法的事务特征
            通过注解，声明某方法的事务特征
        编程式事务
            通过TransactionTemplate管理事务，并通过它执行数据库操作
  
11.添加评论
    数据层
        增加评论数据
        修改贴子的评论数量
    业务层
        处理添加评论的业务
        先增加评论，再更新贴子的评论数量
    表现层
        处理添加评论数量的请求
        设置添加评论的表单                  

12.私信列表
    私信列表
        查询当前用户的会话列表
        每个会话只显示一条最新的私信
        支持分页显示
    私信详情
        查询某个会话所包含的私信  
        支持分页显示
        
13.发送私信
    发送私信
        采用异步方法发送私信
        发送成功后刷新私信列表
    设置已读
        访问了私信详情时，将状态改为已读
  
14.统一异常处理（目前只使用了异常处理方案：统一异常控制器通知）
    @ControllerAdvice
        用于修饰类，表示该类是Controller的全局配置类
        在此类中，可以对Controller进行如下三种全局配置：
            异常处理方案
                    @ExceptionHandler
                             用于修饰方法，该方法会在Controller出现异常后被调用，用于处理捕获到的异常
            绑定数据方案
                    @ModelAttribute
                             用于修饰方法，该方法会在Controller方法执行前被调用，用于Model对象绑定参数
            绑定参数方案
                    @DataBinder
                             用于修饰方法，该方法会在Controller方法执行前被调用，用于绑定参数的转换器  
                             
15.统一记录日志（AOP）（无异常也需要记录日志）（主要是service业务中处理日志）
    AOP的概念
        面向切面编程，aop是一种编程思想，是对oop的补充，可以进一步提高编程效率
    AOP术语
        Weaving（织入）方式:
            编译时织入，需要使用特殊的编译器
            装载时织入，需要使用特殊的类装载器
            运行时织入，需要为目标生成代理对象
        Joinpoint:织入点
        Aspect:方面组件：
            Pointcut: 声明织入点位置
            Advice（通知）: 具体织入逻辑
    AOP的实现
        Aspectj
            Aspectj是语言级别的实现，它拓展了Java语言，定义了AOP语法
            Aspectj在编译期织入代码，它有一个专门的编译器，用来生成遵守Java字节码规范的class文件
        Spring AOP
            Spring AOP 使用纯Java实现，它不需要专门的编译过程，也不需要特殊的类装载器
            Spring AOP在运行时通过代理的方式织入代码，只支持方法类型的连接点
            Spring支持对Aspectj的集成 
                JDK动态代理
                    java提供的动态代理技术，可以在运行时创建【接口】的代理实例
                    spring aop 默认采用这种方式，在接口的代理实例中织入代码
                CGLib动态代理
                    采用底层的字节码技术，在运行时创建子类代理实例
                    当目标对象不存在接口时，spring aop 会采用此种方法，在子类实例中织入代码  
                    
